<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>运行时配置</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="mysqli.installation.html">« 安装</a></li>
      <li style="float: right;"><a href="mysqli.resources.html">资源类型 »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="mysqli.setup.html">安装／配置</a></li>
    <li>运行时配置</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="mysqli.configuration" class="section">
 <h2 class="title">运行时配置</h2>
 <p class="simpara">
这些函数的行为受 <var class="filename">php.ini</var> 中的设置影响。
</p>
 <p class="para">
  <table class="doctable table">
   <caption><strong>MySQLi配置选项</strong></caption>
   
    <thead>
     <tr>
      <th>名字</th>
      <th>默认</th>
      <th>可修改范围</th>
      <th>更新日志</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td><a href="mysqli.configuration.html#ini.mysqli.allow-local-infile" class="link">mysqli.allow_local_infile</a></td>
      <td>&quot;0&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td>自PHP 5.2.4起可用。在 PHP 7.2.16 和 7.3.3 之前，默认值为 &quot;1&quot;</td>
     </tr>

     <tr>
      <td><a href="mysqli.configuration.html#ini.mysqli.local-infile-directory" class="link">mysqli.local_infile_directory</a></td>
      <td class="empty">&nbsp;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="mysqli.configuration.html#ini.mysqli.allow-persistent" class="link">mysqli.allow_persistent</a></td>
      <td>&quot;1&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td>自PHP 5.3.0起可用。</td>
     </tr>

     <tr>
      <td><a href="mysqli.configuration.html#ini.mysqli.max-persistent" class="link">mysqli.max_persistent</a></td>
      <td>&quot;-1&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td>自PHP 5.3.0起可用。</td>
     </tr>

     <tr>
      <td><a href="mysqli.configuration.html#ini.mysqli.max-links" class="link">mysqli.max_links</a></td>
      <td>&quot;-1&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="mysqli.configuration.html#ini.mysqli.default-port" class="link">mysqli.default_port</a></td>
      <td>&quot;3306&quot;</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="mysqli.configuration.html#ini.mysqli.default-socket" class="link">mysqli.default_socket</a></td>
      <td>NULL</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="mysqli.configuration.html#ini.mysqli.default-host" class="link">mysqli.default_host</a></td>
      <td>NULL</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="mysqli.configuration.html#ini.mysqli.default-user" class="link">mysqli.default_user</a></td>
      <td>NULL</td>
      <td>PHP_INI_ALL</td>
      <td>自PHP 5.0.0起可用。</td>
     </tr>

     <tr>
      <td><a href="mysqli.configuration.html#ini.mysqli.default-pw" class="link">mysqli.default_pw</a></td>
      <td>NULL</td>
      <td>PHP_INI_ALL</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="mysqli.configuration.html#ini.mysqli.reconnect" class="link">mysqli.reconnect</a></td>
      <td>&quot;0&quot;</td>
      <td>PHP_INI_SYSTEM</td>
      <td class="empty">&nbsp;</td>
     </tr>

     <tr>
      <td><a href="mysqli.configuration.html#ini.mysqli.rollback-on-cached-plink" class="link">mysqli.rollback_on_cached_plink</a></td>
      <td>TRUE</td>
      <td>PHP_INI_SYSTEM</td>
      <td>自 PHP 5.6.0 起可用。</td>
     </tr>

    </tbody>
   
  </table>

 </p>
 <p class="para">
 关于前面出现的PHP_INI_*系列常量的详细定义，请参阅<a href="configuration.changes.html" class="link">配置的修改</a>一章。
 </p>

 <p class="para">这是配置指令的简短说明。</p>

 <p class="para">
 <dl>
  
  
  
   <dt id="ini.mysqli.allow-local-infile">
    <code class="parameter">mysqli.allow_local_infile</code>
    <span class="type">integer</span>
   </dt>

   <dd>

    <p class="para">
     允许Mysql的Load Data语句访问PHP角度看的本地文件。
    </p>
   </dd>

  

  
   <dt id="ini.mysqli.local-infile-directory">
    <code class="parameter">mysqli.local_infile_directory</code>
    <span class="type">string</span>
   </dt>

   <dd>

    <p class="para">
     限制加载 LOCAL DATA 文件为指定的目录。
    </p>
   </dd>

  
  
  
   <dt id="ini.mysqli.allow-persistent">
    <code class="parameter">mysqli.allow_persistent</code>
    <span class="type">integer</span>
   </dt>

   <dd>

    <p class="para">
    开启使用<span class="function"><a href="function.mysqli-connect.html" class="function">mysqli_connect()</a></span>函数创建持久化连接的能力。
    </p>
   </dd>

  
  
   <dt id="ini.mysqli.max-persistent">
    <code class="parameter">mysqli.max_persistent</code>
    <span class="type">integer</span>
   </dt>

   <dd>

    <p class="para">
    可以创建的持久化连接的最大数量，设置为0表明不限制。
    </p>
   </dd>

  
  
   <dt id="ini.mysqli.max-links">
    <code class="parameter">mysqli.max_links</code>
    <span class="type">integer</span>
   </dt>

   <dd>

    <p class="para">
    每个进程中Mysql连接的最大数量。
    </p>
   </dd>

  
   
   <dt id="ini.mysqli.default-port">
    <code class="parameter">mysqli.default_port</code>
    <span class="type">integer</span>
   </dt>

   <dd>

    <p class="para">
    当没有指定其他端口号时使用的默认的用于连接数据库服务器的TCP端口号。如果没有设置默认值，
    端口号将会按照顺序从环境变量<code class="literal">MYSQL_TCP_PORT</code>，<var class="filename">/etc/services</var>
    文件中的<code class="literal">mysql-tcp</code>条目或编译期的<code class="literal">MYSQL_PORT</code>常量等位置获取。
    Win32仅使用<code class="literal">MYSQL_PORT</code>常量。
    </p>
   </dd>

  
  
  
   <dt id="ini.mysqli.default-socket">
    <code class="parameter">mysqli.default_socket</code>
    <span class="type">string</span>
   </dt>

   <dd>

    <p class="para">
    当连接到本地数据库服务器时如果没有指定其他socket名称，使用的默认socket名称。
    </p>
   </dd>

  
  
  

  
   
   <dt id="ini.mysqli.default-host">
    <code class="parameter">mysqli.default_host</code>
    <span class="type">string</span>
   </dt>

   <dd>

    <p class="para">
    当连接到数据库服务器时， 如果没有指定其他主机地址，使用的默认服务器主机。
    </p>
   </dd>

  

  

  
  
   <dt id="ini.mysqli.default-user">
    <code class="parameter">mysqli.default_user</code>
    <span class="type">string</span>
   </dt>

   <dd>

    <p class="para">
    当连接到数据库服务器时，如果没有指定其他用户名，使用的默认用户名。
    </p>
   </dd>

  
  
    
   <dt id="ini.mysqli.default-pw">
    <code class="parameter">mysqli.default_pw</code>
    <span class="type">string</span>
   </dt>

   <dd>

    <p class="para">
    当连接到数据库服务器时，如果没有指定其他密码，使用的默认密码。
    </p>
   </dd>

  
  
  
    
   <dt id="ini.mysqli.reconnect">
    <code class="parameter">mysqli.reconnect</code>
    <span class="type">integer</span>
   </dt>

   <dd>

    <p class="para">
    连接丢失时是否自动重新连接。
    </p>
    <blockquote class="note"><p><strong class="note">注意</strong>: 
     <span class="simpara">mysqlnd 驱动会此忽略 <var class="filename">php.ini</var> 设置。</span>
    </p></blockquote>
   </dd>

  

  
   <dt id="ini.mysqli.rollback-on-cached-plink">
    <code class="parameter">mysqli.rollback_on_cached_plink</code>
    <span class="type">bool</span>
   </dt>

   <dd>

    <p class="para">
     If this option is enabled, closing a persistent connection will rollback
     any pending transactions of this connection before it is put back into the
     persistent connection pool. Otherwise, pending transactions will be rolled
     back only when the connection is reused, or when it is actually closed.
    </p>
   </dd>

  
  
 </dl>

 </p>
 <p class="para">
 用户不能通过API调用或运行时配置来设置<code class="literal">MYSQL_OPT_READ_TIMEOUT</code>。
 注意，如果可能这样做那么<code class="literal">libmysqlclient</code>和流对<code class="literal">MYSQL_OPT_READ_TIMEOUT</code>
 的值将会有不同的解释。 
 </p>
</div></div></div></body></html>